//================================================================================================================
//
// DirectXのクリア画面関連用のcppファイル [gameclear.cpp]
// Author : TENMA
//
//================================================================================================================
//*************************************************************************************************
//*** インクルードファイル ***
//*************************************************************************************************
#include "gameclear.h"
#include "gameclearBg.h"
#include "fade.h"

//*************************************************************************************************
//*** マクロ定義 ***
//*************************************************************************************************

//*************************************************************************************************
//*** プロトタイプ宣言 ***
//*************************************************************************************************

//*************************************************************************************************
//*** グローバル変数 ***
//*************************************************************************************************
int g_nCounterGameClear;

//=================================================================================================
// --- タイトル関連cppファイルの初期化 ---
//=================================================================================================
void InitGameClear(void)
{
	g_nCounterGameClear = 0;

	/*** aの初期化 ***/

	/*** 背景の初期化 ***/
	InitGameClearBg();
}

//=================================================================================================
// --- タイトル関連cppファイルの終了 ---
//=================================================================================================
void UninitGameClear(void)
{
	/*** aの終了 ***/

	/*** 背景の終了 ***/
	UninitGameClearBg();
}

//=================================================================================================
// --- タイトル関連cppファイルの更新 ---
//=================================================================================================
void UpdateGameClear(void)
{
	/*** aの更新 ***/

	/*** 背景の更新 ***/
	UpdateGameClearBg();

	if ((GetKeyboardTrigger(DIK_RETURN)
		|| GetJoypadTrigger(JOYKEY_A)
		|| GetJoypadTrigger(JOYKEY_START))
		&& GetFade() == FADE_NONE)
	{
		SetFade(MODE_RANKING, FADE_TYPE_NORMAL, 120);
	}

	if (g_nCounterGameClear >= 600 && GetFade() == FADE_NONE)
	{
		SetFade(MODE_RANKING, FADE_TYPE_NORMAL, 120);
	}

	g_nCounterGameClear++;
}

//=================================================================================================
// --- タイトル関連cppファイルの描画 ---
//=================================================================================================
void DrawGameClear(void)
{
	/*** aの描画 ***/

	/*** 背景の描画 ***/
	DrawGameClearBg();
}