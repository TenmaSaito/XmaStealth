//================================================================================================================
//
// DirectXのタイトル関連用のcppファイル [title.cpp]
// Author : TENMA
//
//================================================================================================================
//*************************************************************************************************
//*** インクルードファイル ***
//*************************************************************************************************
#include "result.h"
#include "fade.h"
#include "resultScore.h"

//*************************************************************************************************
//*** マクロ定義 ***
//*************************************************************************************************

//*************************************************************************************************
//*** プロトタイプ宣言 ***
//*************************************************************************************************

//*************************************************************************************************
//*** グローバル変数 ***
//*************************************************************************************************
int g_nCounterResult;

//=================================================================================================
// --- タイトル関連cppファイルの初期化 ---
//=================================================================================================
void InitResult(void)
{
	g_nCounterResult = 0;

	/*** aの初期化 ***/

	/*** リザルトスコアの初期化 ***/
	InitResultScore();

	/*** リザルトスコアの設定 ***/
	SetResultScore(D3DXVECTOR3(1300.0f, 550.0f, 0.0f), 0);
}

//=================================================================================================
// --- タイトル関連cppファイルの終了 ---
//=================================================================================================
void UninitResult(void)
{
	/*** aの終了 ***/

	/*** リザルトスコアの終了 ***/
	UninitResultScore();
}

//=================================================================================================
// --- タイトル関連cppファイルの更新 ---
//=================================================================================================
void UpdateResult(void)
{
	/*** aの更新 ***/

	/*** リザルトスコアの更新 ***/
	UpdateResultScore();

	if ((GetKeyboardTrigger(DIK_RETURN)
		|| GetJoypadTrigger(JOYKEY_A)
		|| GetJoypadTrigger(JOYKEY_START))
		&& GetFade() == FADE_NONE)
	{
		SetFade(MODE_RANKING, FADE_TYPE_NORMAL, 120);
	}

	if (g_nCounterResult >= 600 && GetFade() == FADE_NONE)
	{
		SetFade(MODE_RANKING, FADE_TYPE_NORMAL, 120);
	}

	g_nCounterResult++;
}

//=================================================================================================
// --- タイトル関連cppファイルの描画 ---
//=================================================================================================
void DrawResult(void)
{
	/*** aの描画 ***/

	/*** リザルトスコアの描画 ***/
	DrawResultScore();
}